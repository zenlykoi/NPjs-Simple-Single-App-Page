var NP={initId:"",initElement:null,routes:[],data:{},dataProxy:{},renderDataSymbol:{open:"{{",close:"}}"},dataTag:"np",attrIf:"np-if",attrFor:"np-for",initTemplateByRouter:function(){var b=this.routes.length,a="/"==location.pathname[location.pathname.length-1]&&"/"!=location.pathname?location.pathname.slice(0,location.pathname.length-1):location.pathname,c=null;if(0<b){for(var e=0;e<b;e++)if(a==this.routes[e].path){c=this.routes[e].template;break}null!=c&&(document.title=c.title,""!=c.html&&void 0!=
c.html&&""!=c.html.replace(/\s/g,"")&&(document.getElementById(this.initId).innerHTML=c.html))}this.initCss();this.runScriptInTemplate();this.setDataProxy();this.renderTagWithAttr("if");this.renderTagWithAttr("for");this.initTextToHTML();this.initEventToClickRoute()},initEventToClickRoute:function(){for(var b=this,a=document.getElementsByTagName("a"),c=a.length,e,d={$jscomp$loop$prop$i$5:0};d.$jscomp$loop$prop$i$5<c;d={$jscomp$loop$prop$i$5:d.$jscomp$loop$prop$i$5},d.$jscomp$loop$prop$i$5++)location.origin==
a[d.$jscomp$loop$prop$i$5].origin&&this.checkHaveRouter(a[d.$jscomp$loop$prop$i$5].pathname)&&(a[d.$jscomp$loop$prop$i$5].onclick=function(a){return function(){e=document.getElementsByTagName("a")[a.$jscomp$loop$prop$i$5].href;document.getElementsByTagName("a")[a.$jscomp$loop$prop$i$5].href="javascript: void(0)";history.pushState({},"",e);b.initTemplateByRouter()}}(d))},renderTagWithAttr:function(b){if("if"==b)for(var a=document.getElementById(this.initId),c=this.getAllElementsByAttr(this.attrIf),
e=c.length,d=0;d<e;d++)0==this.data.if[c[d].getAttribute(this.attrIf)]?a.removeChild(c[d]):c[d].removeAttribute(this.attrIf);if("for"==b){b=this.getAllElementsByAttr(this.attrFor);for(var f,g,l=0;l<b.length;l++){var m="";e=b[l];d=e.cloneNode(!0);a=this.getObjDataByString("for."+e.getAttribute(this.attrFor));c=this.getAllElementsByAttrAndDataTag("tag",e,"text-for");for(var h=0;h<a.length;h++){f=d.cloneNode(!0);if(0==h)for(f=0;f<c.length;f++)c[f].outerHTML=a[h][c[f].getAttribute("data")];else{g=this.getAllElementsByAttrAndDataTag("tag",
f,"text-for");for(var k=0;k<c.length;k++)g[k].outerHTML=a[h][g[k].getAttribute("data")];f.removeAttribute(this.attrFor);m+=f.outerHTML}e.removeAttribute(this.attrFor)}e.outerHTML+=m}}},initTextToHTML:function(b,a,c,e){a=void 0===a?this.initElement:a;c=void 0===c?this.renderDataSymbol.open:c;e=void 0===e?this.renderDataSymbol.close:e;b=a.innerHTML;for(var d=b.split(c),f=[],g=0;g<d.length;g++)-1!=d[g].indexOf("}}")&&f.push(d[g].split(e)[0]);for(d=0;d<f.length;d++)b=b.replace(c+f[d]+e,this.getObjDataByString(f[d]));
return a.innerHTML=b},getObjDataByString:function(b,a){a=void 0===a?this.data:a;b=b.split(".");for(var c=0;c<b.length;c++)a=a[b[c]];return a},runScriptInTemplate:function(){for(var b=this.getAllElementsByAttrAndDataTag("tag",this.initElement,"script"),a=0;a<b.length;a++)eval(b[a].innerHTML),b[a].outerHTML=""},initCss:function(){for(var b=this.getAllElementsByAttrAndDataTag("tag",this.initElement,"style"),a=0;a<b.length;a++){var c=document.createElement("style");c.innerHTML=b[a].innerHTML;document.head.appendChild(c);
b[a].outerHTML=""}},setDataProxy:function(){var b=this,a={get:function(c,b){return"object"===typeof c[b]&&null!==c[b]?new Proxy(c[b],a):c[b]},set:function(a,e,d){a[e]=d;b.initTemplateByRouter();return!0}};this.dataProxy=new Proxy(this.data,a)},checkHaveRouter:function(b){for(var a=0;a<this.routes.length;a++)if(b==this.routes[a].path)return!0;return!1},renderAfterLoad:function(){var b=this;b.initEventToClickRoute();window.onload=function(){b.initTemplateByRouter()};window.onbeforeunload=function(){b.initTemplateByRouter()};
window.addEventListener("popstate",function(){b.initTemplateByRouter()})},getAllElementsByAttr:function(b,a){a=void 0===a?this.initElement:a;return a.querySelectorAll("["+b+"]")},getAllElementsByAttrAndDataTag:function(b,a,c){a=void 0===a?this.initElement:a;c=void 0===c?"":c;a=a.getElementsByTagName(this.dataTag);var e=[];if(c&&void 0!=c&&null!=c&&""!=c)for(var d=0;d<a.length;d++)a[d].hasAttribute(b)&&a[d].getAttribute(b)==c&&e.push(a[d]);else for(c=0;c<a.length;c++)a[c].hasAttribute(b)&&e.push(a[c]);
return e},init:function(b){this.initId=b;this.initElement=document.getElementById(b);this.renderAfterLoad()}};